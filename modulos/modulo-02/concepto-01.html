<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concepto 1: Experimento de Equivalencia | MÃ³dulo 2 - RFT</title>
    <link rel="stylesheet" href="../../styles.css">
    <link rel="stylesheet" href="concepto-01.css">
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body class="modulo-equivalencia">
    <canvas id="particleCanvas"></canvas>

    <!-- BotÃ³n flotante de red -->
    <button class="btn-red-flotante" id="btnRedFlotante" style="display: none;" onclick="abrirModalRed()">
        <span class="red-icon">ğŸŒ</span>
        <span class="red-label">Ver Red</span>
        <span class="red-badge" id="redBadge">0</span>
        <span class="red-nuevo" id="redNuevo" style="display: none;">âœ¨</span>
    </button>

    <!-- Modal de Red -->
    <div class="modal-red" id="modalRed" onclick="cerrarModalRed()">
        <div class="modal-red-contenido" onclick="event.stopPropagation()">
            <div class="modal-red-header">
                <h2>ğŸŒ Red de Equivalencia</h2>
                <button class="btn-cerrar-modal" onclick="cerrarModalRed()">âœ•</button>
            </div>
            <div class="modal-red-canvas">
                <svg id="redSVGModal" width="100%" height="700"></svg>
            </div>
            <div class="modal-red-stats">
                <div class="modal-stat"><span id="modalStatEntrenadas">0</span><br>ğŸŸ¢ Entrenadas</div>
                <div class="modal-stat"><span id="modalStatSimetrias">0</span><br>ğŸ”µ SimetrÃ­as</div>
                <div class="modal-stat"><span id="modalStatTransitividades">0</span><br>ğŸŸ¡ Transitividades</div>
                <div class="modal-stat total"><span id="modalStatTotal">0</span><br>ğŸ’ Total</div>
            </div>
            <div class="modal-red-leyenda">
                <span>â”â”â” SÃ³lida = Directa</span>
                <span>â•Œâ•Œâ•Œ Punteada = Transitiva</span>
            </div>
            <p class="modal-hint">ğŸ’¡ Click en nodo para resaltar su clase</p>
        </div>
    </div>

    <!-- Toast notificaciÃ³n -->
    <div class="toast-notificacion" id="toastNotificacion">
        <span id="toastMensaje"></span>
    </div>

    <div class="lab-container">
        
        <header class="lab-header">
            <button class="btn-back" onclick="window.location.href='../../index.html'">â† Volver</button>
            <div class="lab-info">
                <span class="modulo-badge">ğŸ”¬ MÃ³dulo 2: Equivalencia</span>
                <h1>Concepto 1: Laboratorio Experimental</h1>
            </div>
            <div class="contador-global">
                <span class="contador-label">Ensayos:</span>
                <span class="contador-numero" id="contadorGlobal">0</span>
            </div>
        </header>

        <!-- Red inicial (se oculta al comenzar) -->
        <div class="red-visualizacion" id="redInicial">
            <h3>ğŸŒ Red de Equivalencia</h3>
            <div class="red-canvas-container">
                <svg id="redSVG" width="100%" height="600"></svg>
            </div>
            <div class="red-stats">
                <div class="stat-red"><span id="statEntrenadas">0</span><br>Entrenadas</div>
                <div class="stat-red"><span id="statSimetrias">0</span><br>SimetrÃ­as</div>
                <div class="stat-red"><span id="statTransitividades">0</span><br>Transitividades</div>
                <div class="stat-red total"><span id="statTotal">0</span><br>Total</div>
            </div>
        </div>

        <!-- FASE 0: Intro -->
        <section class="fase-lab activa" id="fase0">
            <div class="fase-card intro">
                <h2>ğŸ”¬ Laboratorio de Equivalencia</h2>
                <p>ParticiparÃ¡s en un experimento conductual de equivalencia de estÃ­mulos. Entrenaremos relaciones arbitrarias y observaremos cÃ³mo emergen nuevas relaciones sin entrenamiento directo.</p>
                <div class="intro-grid">
                    <div class="intro-item"><span>ğŸ“š</span><h4>AprenderÃ¡s</h4><p>Reflexividad, SimetrÃ­a y Transitividad</p></div>
                    <div class="intro-item"><span>ğŸŒ</span><h4>VisualizaciÃ³n</h4><p>Red en tiempo real con 5 conjuntos</p></div>
                    <div class="intro-item"><span>ğŸ¯</span><h4>Predicciones</h4><p>AnticiparÃ¡s relaciones emergentes</p></div>
                    <div class="intro-item"><span>âš¡</span><h4>ExpansiÃ³n</h4><p>De 3 a 5 conjuntos progresivamente</p></div>
                </div>
                <button class="btn-lab-primary" onclick="comenzarExperimento()">Comenzar experimento â†’</button>
            </div>
        </section>

        <!-- FASE 1: PresentaciÃ³n A-B -->
        <section class="fase-lab" id="fase1">
            <div class="fase-card">
                <h2>Fase 1: Entrenamiento Aâ†’B</h2>
                <p>AprenderÃ¡s a relacionar <strong>kanjis japoneses</strong> (A) con <strong>palabras espaÃ±olas</strong> (B).</p>
                <div class="conjuntos-display">
                    <div class="conjunto-box">
                        <h3>Conjunto A: Kanjis</h3>
                        <div class="estimulos-lista">
                            <div class="estimulo-item">çŠ¬ <span>Kanji "perro"</span></div>
                            <div class="estimulo-item">çŒ« <span>Kanji "gato"</span></div>
                            <div class="estimulo-item">é³¥ <span>Kanji "pÃ¡jaro"</span></div>
                        </div>
                    </div>
                    <div class="conjunto-box">
                        <h3>Conjunto B: Palabras</h3>
                        <div class="estimulos-lista">
                            <div class="estimulo-item">PERRO</div>
                            <div class="estimulo-item">GATO</div>
                            <div class="estimulo-item">PÃJARO</div>
                        </div>
                    </div>
                </div>
                <div class="emparejamientos-preview">
                    <div class="emparejamiento">çŠ¬ â†’ PERRO</div>
                    <div class="emparejamiento">çŒ« â†’ GATO</div>
                    <div class="emparejamiento">é³¥ â†’ PÃJARO</div>
                </div>
                <button class="btn-lab-primary" onclick="iniciarFaseEntrenamiento('AB')">Iniciar entrenamiento Aâ†’B (6 ensayos)</button>
            </div>
        </section>

        <!-- FASE 1B: Ensayos Aâ†’B -->
        <section class="fase-lab" id="fase1B">
            <div class="fase-card">
                <h2>Entrenamiento Aâ†’B</h2>
                <div class="ensayo-progreso">
                    <span>Ensayo <strong id="ensayoActualAB">1</strong> de <strong>6</strong></span>
                    <span>Aciertos: <strong id="aciertosAB">0</strong>/6</span>
                </div>
                <div class="ensayo-display">
                    <div class="muestra-card" id="muestraAB"></div>
                    <p class="ensayo-instruccion">Selecciona la opciÃ³n correcta:</p>
                    <div class="comparaciones-grid" id="comparacionesAB"></div>
                    <div class="feedback-ensayo" id="feedbackAB"></div>
                </div>
            </div>
        </section>

        <!-- FASE 2: PredicciÃ³n SimetrÃ­a -->
        <section class="fase-lab" id="fase2">
            <div class="fase-card">
                <h2>Fase 2: Prueba de SimetrÃ­a Bâ†’A</h2>
                <div class="prediccion-card">
                    <h3>ğŸ”® PredicciÃ³n</h3>
                    <p>Has aprendido Aâ†’B (çŠ¬â†’PERRO). Ahora te presentaremos Bâ†’A (PERROâ†’çŠ¬) que <strong>NUNCA fue entrenado</strong>.</p>
                    <p class="prediccion-pregunta">Â¿QuÃ© crees que pasarÃ¡?</p>
                    <div class="prediccion-opciones">
                        <button class="btn-prediccion" onclick="registrarPrediccion('BA', 'no')">No deberÃ­a saber</button>
                        <button class="btn-prediccion" onclick="registrarPrediccion('BA', 'si')">ResponderÃ© correctamente</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- FASE 2B: Ensayos Bâ†’A -->
        <section class="fase-lab" id="fase2B">
            <div class="fase-card">
                <h2>Prueba Bâ†’A (SimetrÃ­a)</h2>
                <div class="ensayo-progreso">
                    <span>Ensayo <strong id="ensayoActualBA">1</strong> de <strong>6</strong></span>
                    <span>Aciertos: <strong id="aciertosBA">0</strong>/6</span>
                </div>
                <div class="ensayo-display">
                    <div class="muestra-card" id="muestraBA"></div>
                    <p class="ensayo-instruccion">Selecciona la opciÃ³n correcta:</p>
                    <div class="comparaciones-grid" id="comparacionesBA"></div>
                    <div class="feedback-ensayo" id="feedbackBA"></div>
                </div>
            </div>
        </section>

        <!-- FASE 3: PresentaciÃ³n B-C -->
        <section class="fase-lab" id="fase3">
            <div class="fase-card">
                <h2>Fase 3: Entrenamiento Bâ†’C</h2>
                <p>Ahora entrenaremos relaciones entre <strong>palabras</strong> (B) y <strong>emojis</strong> (C).</p>
                <div class="conjuntos-display">
                    <div class="conjunto-box">
                        <h3>Conjunto B: Palabras</h3>
                        <div class="estimulos-lista">
                            <div class="estimulo-item">PERRO</div>
                            <div class="estimulo-item">GATO</div>
                            <div class="estimulo-item">PÃJARO</div>
                        </div>
                    </div>
                    <div class="conjunto-box">
                        <h3>Conjunto C: Emojis</h3>
                        <div class="estimulos-lista">
                            <div class="estimulo-item">ğŸ•</div>
                            <div class="estimulo-item">ğŸˆ</div>
                            <div class="estimulo-item">ğŸ¦</div>
                        </div>
                    </div>
                </div>
                <button class="btn-lab-primary" onclick="iniciarFaseEntrenamiento('BC')">Iniciar entrenamiento Bâ†’C (6 ensayos)</button>
            </div>
        </section>

        <!-- FASE 3B: Ensayos Bâ†’C -->
        <section class="fase-lab" id="fase3B">
            <div class="fase-card">
                <h2>Entrenamiento Bâ†’C</h2>
                <div class="ensayo-progreso">
                    <span>Ensayo <strong id="ensayoActualBC">1</strong> de <strong>6</strong></span>
                    <span>Aciertos: <strong id="aciertosBC">0</strong>/6</span>
                </div>
                <div class="ensayo-display">
                    <div class="muestra-card" id="muestraBC"></div>
                    <p class="ensayo-instruccion">Selecciona:</p>
                    <div class="comparaciones-grid" id="comparacionesBC"></div>
                    <div class="feedback-ensayo" id="feedbackBC"></div>
                </div>
            </div>
        </section>

        <!-- FASE 4: Prueba Câ†’B -->
        <section class="fase-lab" id="fase4">
            <div class="fase-card">
                <h2>Fase 4: Prueba Câ†’B (SimetrÃ­a)</h2>
                <div class="ensayo-progreso">
                    <span>Ensayo <strong id="ensayoActualCB">1</strong> de <strong>6</strong></span>
                    <span>Aciertos: <strong id="aciertoCB">0</strong>/6</span>
                </div>
                <div class="ensayo-display">
                    <div class="muestra-card" id="muestraCB"></div>
                    <p class="ensayo-instruccion">Selecciona:</p>
                    <div class="comparaciones-grid" id="comparacionesCB"></div>
                    <div class="feedback-ensayo" id="feedbackCB"></div>
                </div>
            </div>
        </section>

        <!-- FASE 5: PredicciÃ³n Transitividad -->
        <section class="fase-lab" id="fase5">
            <div class="fase-card">
                <h2>Fase 5: Prueba de Transitividad Aâ†’C</h2>
                <div class="prediccion-card">
                    <h3>ğŸ”® PredicciÃ³n CrÃ­tica</h3>
                    <p>Entrenaste Aâ†’B y Bâ†’C, pero <strong>NUNCA</strong> Aâ†’C directamente.</p>
                    <p class="prediccion-pregunta">Â¿PodrÃ¡s relacionar çŠ¬ con ğŸ•?</p>
                    <div class="prediccion-opciones">
                        <button class="btn-prediccion" onclick="registrarPrediccion('AC', 'no')">No, sin entrenamiento</button>
                        <button class="btn-prediccion" onclick="registrarPrediccion('AC', 'si')">SÃ­, por transitividad</button>
                    </div>
                    <div class="prediccion-hint">ğŸ’¡ Prueba definitiva de equivalencia</div>
                </div>
            </div>
        </section>

        <!-- FASE 5B: Prueba Aâ†’C -->
        <section class="fase-lab" id="fase5B">
            <div class="fase-card">
                <h2>Prueba Aâ†’C (Transitividad)</h2>
                <div class="ensayo-progreso">
                    <span>Ensayo <strong id="ensayoActualAC">1</strong> de <strong>6</strong></span>
                    <span>Aciertos: <strong id="aciertosAC">0</strong>/6</span>
                </div>
                <div class="ensayo-display">
                    <div class="muestra-card" id="muestraAC"></div>
                    <p class="ensayo-instruccion">Selecciona:</p>
                    <div class="comparaciones-grid" id="comparacionesAC"></div>
                    <div class="feedback-ensayo" id="feedbackAC"></div>
                </div>
            </div>
        </section>
<!-- ============================================ -->
<!-- AGREGAR DESPUÃ‰S DE FASE 5B (antes de faseFinal) -->
<!-- ============================================ -->

        <!-- FASE 6: PresentaciÃ³n C-D -->
        <section class="fase-lab" id="fase6">
            <div class="fase-card expansion">
                <h2>âš¡ Fase 6: ExpansiÃ³n - Conjunto D</h2>
                <div class="expansion-explicacion">
                    <h3>ğŸŒŸ Expandiendo la Red</h3>
                    <p>Agregaremos un <strong>CUARTO conjunto</strong> (D: Figuras). La red se expande exponencialmente.</p>
                </div>
                <div class="conjuntos-display">
                    <div class="conjunto-box">
                        <h3>Conjunto C: SÃ­mbolos</h3>
                        <div class="estimulos-lista">
                            <div class="estimulo-item">â—†</div>
                            <div class="estimulo-item">â—‰</div>
                            <div class="estimulo-item">â–²</div>
                        </div>
                    </div>
                    <div class="conjunto-box nuevo">
                        <h3>Conjunto D: Figuras âœ¨</h3>
                        <div class="estimulos-lista">
                            <div class="estimulo-item">ğŸ”µ <span>CÃ­rculo</span></div>
                            <div class="estimulo-item">ğŸŸ¥ <span>Cuadrado</span></div>
                            <div class="estimulo-item">ğŸ”º <span>TriÃ¡ngulo</span></div>
                        </div>
                    </div>
                </div>
                <div class="expansion-insight">
                    <p>ğŸ’¡ <strong>Al entrenar solo Câ†’D, emergerÃ¡n automÃ¡ticamente:</strong></p>
                    <p>â€¢ Dâ†’C (simetrÃ­a)</p>
                    <p>â€¢ Aâ†’D, Dâ†’A (transitividad)</p>
                    <p>â€¢ Bâ†’D, Dâ†’B (transitividad)</p>
                    <p><strong>De 3 entrenamientos â†’ 30+ relaciones totales</strong></p>
                </div>
                <button class="btn-lab-primary" onclick="iniciarFaseEntrenamiento('CD')">Iniciar entrenamiento Câ†’D (6 ensayos)</button>
            </div>
        </section>

        <!-- FASE 6B: Ensayos Câ†’D -->
        <section class="fase-lab" id="fase6B">
            <div class="fase-card">
                <h2>Entrenamiento Câ†’D</h2>
                <div class="ensayo-progreso">
                    <span>Ensayo <strong id="ensayoActualCD">1</strong> de <strong>6</strong></span>
                    <span>Aciertos: <strong id="aciertosCD">0</strong>/6</span>
                </div>
                <div class="ensayo-display">
                    <div class="muestra-card" id="muestraCD"></div>
                    <p class="ensayo-instruccion">Selecciona la figura correcta:</p>
                    <div class="comparaciones-grid" id="comparacionesCD"></div>
                    <div class="feedback-ensayo" id="feedbackCD"></div>
                </div>
            </div>
        </section>

        <!-- FASE 7: Prueba Dâ†’C (SimetrÃ­a) -->
        <section class="fase-lab" id="fase7">
            <div class="fase-card">
                <h2>Fase 7: Prueba Dâ†’C (SimetrÃ­a Final)</h2>
                <div class="ensayo-progreso">
                    <span>Ensayo <strong id="ensayoActualDC">1</strong> de <strong>6</strong></span>
                    <span>Aciertos: <strong id="aciertoDC">0</strong>/6</span>
                </div>
                <div class="ensayo-display">
                    <div class="muestra-card" id="muestraDC"></div>
                    <p class="ensayo-instruccion">Selecciona el sÃ­mbolo correcto:</p>
                    <div class="comparaciones-grid" id="comparacionesDC"></div>
                    <div class="feedback-ensayo" id="feedbackDC"></div>
                </div>
            </div>
        </section>

<!-- FIN - DespuÃ©s va faseFinal -->
        <!-- FASE FINAL -->
        <section class="fase-lab" id="faseFinal">
            <div class="fase-card resultados">
                <h2>ğŸ‰ Experimento Completado</h2>
                <div class="resultados-grid">
                    <div class="resultado-stat"><span id="resultadoEnsayos">0</span><br>Ensayos</div>
                    <div class="resultado-stat"><span id="resultadoEntrenadas">0</span><br>Entrenadas</div>
                    <div class="resultado-stat"><span id="resultadoDerivadas">0</span><br>Derivadas</div>
                    <div class="resultado-stat destacado"><span id="resultadoTotal">0</span><br>Total</div>
                </div>
                <div class="insight-final">
                    <h3>ğŸ’¡ Has demostrado equivalencia de estÃ­mulos</h3>
                    <p>çŠ¬ = PERRO = ğŸ• forman una clase de equivalencia. Todos son funcionalmente intercambiables.</p>
                </div>
                <div class="acciones-finales">
                    <button class="btn-lab-secondary" onclick="abrirModalRed()">ğŸŒ Ver red completa</button>
                    <button class="btn-lab-primary" onclick="window.location.href='concepto-02.html'">Continuar â†’</button>
                </div>
            </div>
        </section>

    </div>

    <script src="concepto-01.js"></script>
</body>
</html>
