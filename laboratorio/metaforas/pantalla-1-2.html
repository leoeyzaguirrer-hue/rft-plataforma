<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Los Marcos Relacionales | Lab Met√°foras</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-dark: #1B5E20;
            --bg-dark-2: #2E7D32;
            --bg-dark-3: #388E3C;
            
            --card-lavender: #F3E5F5;
            --card-lavender-alt: #E1BEE7;
            
            --accent-purple: #AB47BC;
            --accent-purple-dark: #8E24AA;
            --accent-purple-light: #CE93D8;
            
            --text-dark: #1B1B1B;
            --text-white: #FFFFFF;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--bg-dark) 0%, var(--bg-dark-2) 50%, var(--bg-dark-3) 100%);
            background-size: 400% 400%;
            animation: gradientShift 20s ease infinite;
            min-height: 100vh;
            color: var(--text-white);
            padding-bottom: 40px;
            overflow-x: hidden;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Header sticky */
        .header {
            position: sticky;
            top: 0;
            background: rgba(27, 94, 32, 0.95);
            backdrop-filter: blur(10px);
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            border-bottom: 2px solid rgba(171, 71, 188, 0.3);
        }

        .back-btn {
            background: rgba(255, 255, 255, 0.15);
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .back-btn:active {
            background: rgba(255, 255, 255, 0.25);
            transform: scale(0.95);
        }

        .progress-indicator {
            font-size: 13px;
            font-weight: 700;
            opacity: 0.9;
        }

        /* Container */
        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 24px 20px;
        }

        /* Title Section */
        .title-section {
            text-align: center;
            margin-bottom: 32px;
            animation: fadeInDown 0.6s ease-out;
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .part-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-dark));
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 16px;
        }

        h1 {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 12px;
            line-height: 1.2;
        }

        .subtitle {
            font-size: 16px;
            opacity: 0.9;
        }

        /* Intro Card */
        .intro-card {
            background: var(--card-lavender);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            animation: fadeInUp 0.6s ease-out 0.2s backwards;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .intro-card p {
            color: var(--text-dark);
            font-size: 16px;
            line-height: 1.7;
            margin-bottom: 12px;
        }

        .intro-card strong {
            color: var(--accent-purple-dark);
        }

        /* Swipe Instructions */
        .swipe-instruction {
            background: rgba(171, 71, 188, 0.15);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 24px;
            text-align: center;
            animation: fadeInUp 0.6s ease-out 0.3s backwards;
        }

        .swipe-instruction-text {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            color: white;
            font-weight: 700;
            font-size: 15px;
        }

        .swipe-emoji {
            font-size: 28px;
            animation: swipeHint 2s ease-in-out infinite;
        }

        @keyframes swipeHint {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(10px); }
        }

        /* Cards Carousel Container */
        .carousel-container {
            position: relative;
            margin-bottom: 32px;
            animation: fadeInUp 0.6s ease-out 0.4s backwards;
        }

        .carousel-wrapper {
            overflow: hidden;
            border-radius: 24px;
        }

        .carousel-track {
            display: flex;
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            touch-action: pan-y;
        }

        .frame-card {
            min-width: 100%;
            background: var(--card-lavender);
            padding: 32px 24px;
            box-sizing: border-box;
        }

        .frame-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 3px solid var(--accent-purple-light);
        }

        .frame-title-group {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .frame-emoji {
            font-size: 48px;
        }

        .frame-title h3 {
            color: var(--text-dark);
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 4px;
        }

        .frame-subtitle {
            color: var(--accent-purple-dark);
            font-size: 13px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .frame-number {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-dark));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 800;
            font-size: 18px;
        }

        .frame-description {
            color: var(--text-dark);
            font-size: 15px;
            line-height: 1.7;
            margin-bottom: 24px;
        }

        /* Interactive Demo Areas */
        .demo-box {
            background: rgba(171, 71, 188, 0.08);
            border: 2px solid var(--accent-purple-light);
            border-radius: 16px;
            padding: 24px;
            margin-top: 16px;
        }

        .demo-title {
            color: var(--accent-purple-dark);
            font-weight: 700;
            font-size: 14px;
            margin-bottom: 16px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Coordination Demo */
        .word-object-pair {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .word-box {
            background: var(--accent-purple-light);
            padding: 16px 24px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 700;
            color: white;
            box-shadow: 0 4px 12px rgba(171, 71, 188, 0.3);
        }

        .equals {
            font-size: 32px;
            color: var(--accent-purple-dark);
            font-weight: 800;
        }

        .object-emoji {
            font-size: 64px;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* Comparison Demo */
        .comparison-demo {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin: 24px 0;
        }

        .comparison-item {
            text-align: center;
        }

        .size-emoji {
            font-size: 48px;
            transition: all 0.3s ease;
        }

        .comparison-item.small .size-emoji {
            font-size: 32px;
        }

        .comparison-item.large .size-emoji {
            font-size: 80px;
        }

        .comparison-label {
            margin-top: 12px;
            font-size: 14px;
            font-weight: 700;
            color: var(--text-dark);
            opacity: 0.8;
        }

        .comparison-symbol {
            font-size: 48px;
            color: var(--accent-purple);
            font-weight: 800;
        }

        /* Hierarchy Demo */
        .hierarchy-tree {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;
            margin: 24px 0;
        }

        .hierarchy-level {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .hierarchy-node {
            background: var(--accent-purple-light);
            color: white;
            padding: 12px 20px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 16px;
            box-shadow: 0 4px 12px rgba(171, 71, 188, 0.3);
        }

        .hierarchy-node.parent {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-dark));
            font-size: 18px;
            padding: 16px 28px;
        }

        .hierarchy-arrow {
            font-size: 32px;
            color: var(--accent-purple-dark);
        }

        .hierarchy-children {
            display: flex;
            gap: 12px;
        }

        /* Causal Demo */
        .causal-chain {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin: 24px 0;
        }

        .causal-step {
            background: white;
            border-left: 4px solid var(--accent-purple);
            padding: 16px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .causal-emoji {
            font-size: 32px;
        }

        .causal-text {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-dark);
        }

        .causal-arrow-between {
            text-align: center;
            font-size: 28px;
            color: var(--accent-purple);
            font-weight: 800;
        }

        /* Navigation Dots */
        .carousel-dots {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 20px;
        }

        .carousel-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(171, 71, 188, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .carousel-dot.active {
            background: var(--accent-purple);
            width: 24px;
            border-radius: 5px;
        }

        /* Progress Dots */
        .progress-dots {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin: 32px 0 24px;
        }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .dot.active {
            background: var(--accent-purple-light);
            width: 24px;
            border-radius: 5px;
        }

        /* CTA Button */
        .cta-button {
            width: 100%;
            padding: 18px 24px;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-dark));
            color: white;
            border: none;
            border-radius: 16px;
            font-size: 17px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(171, 71, 188, 0.4);
            transition: all 0.3s ease;
        }

        .cta-button:active {
            transform: translateY(2px);
            box-shadow: 0 4px 12px rgba(171, 71, 188, 0.3);
        }

        /* Touch indicator for demos */
        .touch-hint {
            text-align: center;
            color: var(--accent-purple-dark);
            font-size: 13px;
            font-weight: 600;
            margin-top: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .touch-hint-emoji {
            font-size: 20px;
            animation: tap 1.5s ease-in-out infinite;
        }

        @keyframes tap {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <button class="back-btn" onclick="window.location.href='pantalla-1-1.html'">‚óÑ Atr√°s</button>
        <div class="progress-indicator">Pantalla 2 de 8</div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Title Section -->
        <div class="title-section">
            <span class="part-badge">üß† Parte 1: Teor√≠a RFT</span>
            <h1>Los Marcos Relacionales</h1>
            <p class="subtitle">Las diferentes formas de relacionar</p>
        </div>

        <!-- Intro Card -->
        <div class="intro-card">
            <p>
                Ahora que sabes que los humanos podemos relacionar cosas de forma <strong>arbitraria</strong> 
                (usando s√≠mbolos y palabras), veamos <strong>qu√© tipos de relaciones</strong> podemos crear.
            </p>
            <p>
                En RFT, estos tipos se llaman <strong>"marcos relacionales"</strong>. 
                Son como diferentes "juegos de lenguaje" que aprendimos desde ni√±os.
            </p>
            <p>
                Aqu√≠ est√°n los 4 marcos principales...
            </p>
        </div>

        <!-- Swipe Instruction -->
        <div class="swipe-instruction">
            <div class="swipe-instruction-text">
                <span class="swipe-emoji">üëâ</span>
                <span>Desliza para ver cada marco</span>
            </div>
        </div>

        <!-- Carousel Container -->
        <div class="carousel-container">
            <div class="carousel-wrapper">
                <div class="carousel-track" id="carousel-track">
                    
                    <!-- CARD 1: COORDINACI√ìN -->
                    <div class="frame-card">
                        <div class="frame-header">
                            <div class="frame-title-group">
                                <span class="frame-emoji">üîó</span>
                                <div class="frame-title">
                                    <h3>Coordinaci√≥n</h3>
                                    <p class="frame-subtitle">A = B</p>
                                </div>
                            </div>
                            <div class="frame-number">1</div>
                        </div>

                        <p class="frame-description">
                            Una cosa <strong>representa</strong> o <strong>es equivalente</strong> a otra. 
                            Es el marco m√°s b√°sico: las palabras "significan" cosas.
                        </p>

                        <div class="demo-box">
                            <div class="demo-title">üéØ Demo interactiva</div>
                            <div class="word-object-pair">
                                <div class="word-box">"PERRO"</div>
                                <div class="equals">=</div>
                                <div class="object-emoji">üêï</div>
                            </div>
                            <p style="text-align: center; color: var(--text-dark); font-size: 14px; margin-top: 16px; line-height: 1.6;">
                                La palabra <strong>"perro"</strong> no es un perro real, 
                                pero act√∫as como si lo fuera cuando la escuchas. 
                                <br><br>
                                Esto es <strong>coordinaci√≥n</strong>: 
                                dos cosas se tratan como "lo mismo" en cierto contexto.
                            </p>
                        </div>
                    </div>

                    <!-- CARD 2: COMPARACI√ìN -->
                    <div class="frame-card">
                        <div class="frame-header">
                            <div class="frame-title-group">
                                <span class="frame-emoji">‚öñÔ∏è</span>
                                <div class="frame-title">
                                    <h3>Comparaci√≥n</h3>
                                    <p class="frame-subtitle">A > B o A < B</p>
                                </div>
                            </div>
                            <div class="frame-number">2</div>
                        </div>

                        <p class="frame-description">
                            Una cosa es <strong>m√°s que</strong> o <strong>menos que</strong> otra en alguna dimensi√≥n. 
                            Mayor, mejor, m√°s r√°pido, m√°s importante...
                        </p>

                        <div class="demo-box">
                            <div class="demo-title">üéØ Demo interactiva</div>
                            <div class="comparison-demo">
                                <div class="comparison-item small">
                                    <div class="size-emoji">üêò</div>
                                    <div class="comparison-label">Elefante beb√©</div>
                                </div>
                                <div class="comparison-symbol">&lt;</div>
                                <div class="comparison-item large">
                                    <div class="size-emoji">üêò</div>
                                    <div class="comparison-label">Elefante adulto</div>
                                </div>
                            </div>
                            <p style="text-align: center; color: var(--text-dark); font-size: 14px; margin-top: 16px; line-height: 1.6;">
                                Puedes ver que uno es m√°s grande. Pero tambi√©n puedes entender:
                                <br>
                                <strong>"Mi problema es M√ÅS GRANDE que el tuyo"</strong>
                                <br>
                                Sin ver los problemas f√≠sicamente.
                                <br><br>
                                ¬°Eso es <strong>comparaci√≥n arbitraria</strong>!
                            </p>
                        </div>
                    </div>

                    <!-- CARD 3: JERARQU√çA -->
                    <div class="frame-card">
                        <div class="frame-header">
                            <div class="frame-title-group">
                                <span class="frame-emoji">üå≥</span>
                                <div class="frame-title">
                                    <h3>Jerarqu√≠a</h3>
                                    <p class="frame-subtitle">A contiene a B</p>
                                </div>
                            </div>
                            <div class="frame-number">3</div>
                        </div>

                        <p class="frame-description">
                            Una cosa es <strong>parte de</strong> o est√° <strong>contenida en</strong> otra. 
                            Categor√≠as, grupos, pertenencia.
                        </p>

                        <div class="demo-box">
                            <div class="demo-title">üéØ Demo interactiva</div>
                            <div class="hierarchy-tree">
                                <div class="hierarchy-level">
                                    <div class="hierarchy-node parent">üêæ ANIMALES</div>
                                </div>
                                <div class="hierarchy-arrow">‚Üì</div>
                                <div class="hierarchy-level">
                                    <div class="hierarchy-children">
                                        <div class="hierarchy-node">üêï Perros</div>
                                        <div class="hierarchy-node">üê± Gatos</div>
                                    </div>
                                </div>
                            </div>
                            <p style="text-align: center; color: var(--text-dark); font-size: 14px; margin-top: 16px; line-height: 1.6;">
                                Los perros y gatos son <strong>parte de</strong> la categor√≠a animales.
                                <br><br>
                                En terapia: <strong>"Tus pensamientos son PARTE DE ti, no TODO t√∫"</strong>
                                <br><br>
                                Este marco es clave para las met√°foras del <strong>yo observador</strong>. üé≠
                            </p>
                        </div>
                    </div>

                    <!-- CARD 4: CAUSAL -->
                    <div class="frame-card">
                        <div class="frame-header">
                            <div class="frame-title-group">
                                <span class="frame-emoji">‚ö°</span>
                                <div class="frame-title">
                                    <h3>Causal</h3>
                                    <p class="frame-subtitle">A ‚Üí B</p>
                                </div>
                            </div>
                            <div class="frame-number">4</div>
                        </div>

                        <p class="frame-description">
                            Una cosa <strong>causa</strong> o <strong>lleva a</strong> otra. 
                            Si-entonces, porque, por lo tanto...
                        </p>

                        <div class="demo-box">
                            <div class="demo-title">üéØ Demo interactiva</div>
                            <div class="causal-chain">
                                <div class="causal-step">
                                    <div class="causal-emoji">‚òÅÔ∏è</div>
                                    <div class="causal-text">Si ves nubes negras...</div>
                                </div>
                                <div class="causal-arrow-between">‚Üì</div>
                                <div class="causal-step">
                                    <div class="causal-emoji">üåßÔ∏è</div>
                                    <div class="causal-text">...entonces probablemente llover√°</div>
                                </div>
                                <div class="causal-arrow-between">‚Üì</div>
                                <div class="causal-step">
                                    <div class="causal-emoji">‚òÇÔ∏è</div>
                                    <div class="causal-text">...por lo tanto llevas paraguas</div>
                                </div>
                            </div>
                            <p style="text-align: center; color: var(--text-dark); font-size: 14px; margin-top: 16px; line-height: 1.6;">
                                Las met√°foras cl√≠nicas usan marcos causales:
                                <br>
                                <strong>"Si sigues cavando el hoyo, te hundir√°s m√°s"</strong>
                                <br><br>
                                Ayuda al cliente a ver <strong>consecuencias</strong> de sus acciones. üí°
                            </p>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Carousel Navigation Dots -->
            <div class="carousel-dots">
                <div class="carousel-dot active" data-index="0"></div>
                <div class="carousel-dot" data-index="1"></div>
                <div class="carousel-dot" data-index="2"></div>
                <div class="carousel-dot" data-index="3"></div>
            </div>
        </div>

        <!-- Progress Dots -->
        <div class="progress-dots">
            <div class="dot"></div>
            <div class="dot active"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>

        <!-- CTA Button -->
        <button class="cta-button" onclick="nextScreen()">
            Siguiente: Mini Experimento ‚Üí
        </button>
    </div>

    <script>
        // Carousel functionality
        const track = document.getElementById('carousel-track');
        const dots = document.querySelectorAll('.carousel-dot');
        let currentIndex = 0;
        let startX = 0;
        let currentTranslate = 0;
        let prevTranslate = 0;
        let isDragging = false;

        // Touch events
        track.addEventListener('touchstart', touchStart);
        track.addEventListener('touchmove', touchMove);
        track.addEventListener('touchend', touchEnd);

        // Mouse events (for desktop testing)
        track.addEventListener('mousedown', touchStart);
        track.addEventListener('mousemove', touchMove);
        track.addEventListener('mouseup', touchEnd);
        track.addEventListener('mouseleave', touchEnd);

        function touchStart(event) {
            isDragging = true;
            startX = getPositionX(event);
            track.style.transition = 'none';
        }

        function touchMove(event) {
            if (!isDragging) return;
            
            const currentPosition = getPositionX(event);
            const diff = currentPosition - startX;
            currentTranslate = prevTranslate + diff;
            
            track.style.transform = `translateX(${currentTranslate}px)`;
        }

        function touchEnd() {
            if (!isDragging) return;
            isDragging = false;
            
            const movedBy = currentTranslate - prevTranslate;
            
            // Swipe threshold
            if (movedBy < -50 && currentIndex < 3) {
                currentIndex++;
            } else if (movedBy > 50 && currentIndex > 0) {
                currentIndex--;
            }
            
            setPositionByIndex();
        }

        function getPositionX(event) {
            return event.type.includes('mouse') ? event.pageX : event.touches[0].clientX;
        }

        function setPositionByIndex() {
            const cardWidth = track.querySelector('.frame-card').offsetWidth;
            currentTranslate = -currentIndex * cardWidth;
            prevTranslate = currentTranslate;
            
            track.style.transition = 'transform 0.4s cubic-bezier(0.4, 0, 0.2, 1)';
            track.style.transform = `translateX(${currentTranslate}px)`;
            
            updateDots();
            
            // Haptic feedback
            if (navigator.vibrate) {
                navigator.vibrate(10);
            }
        }

        function updateDots() {
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentIndex);
            });
        }

        // Dot navigation
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                currentIndex = index;
                setPositionByIndex();
            });
        });

        // Resize handler
        window.addEventListener('resize', () => {
            setPositionByIndex();
        });

        // Navigation
        function nextScreen() {
            alert('üéØ Pr√≥xima pantalla: Mini Experimento\n\n(En desarrollo)');
            // window.location.href = 'pantalla-1-3.html';
        }

        // Haptic feedback for button
        document.querySelector('.cta-button').addEventListener('click', () => {
            if (navigator.vibrate) {
                navigator.vibrate(10);
            }
        });
    </script>
</body>
</html>
